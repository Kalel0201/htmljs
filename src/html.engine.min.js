(function(n,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=t(n):typeof define=="function"&&define.amd?define(t(n)):n.html=t(n)})(this||eval("this"),function(n){var t=n.document,r=!t.addEventListener,i=function(n,t){return n instanceof Function?i.ready(n):typeof n=="string"||n.nodeType?i.get(n,t):void 0};return function(){var u=this,f,p,s,e={},h,c,l,a,v,y;this.config={};this.config.lazyInput=!1;this.extend=function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n};this.get=this.render=function(n,t){if(n&&n.nodeType)f=n;else if(typeof n=="string"){var i=this.query(n,t)[0];if(!i)throw"Can' find element that matches";f=i}return this};this.find=function(n){return f=this.query(n,f)[0],this};this.array=function(){var n=Array.apply({},arguments[0]||[]);return u.extend(n,u.array),n},function(){this.each=function(n){for(var t=0,i=this.length;t<i;t++)n(this[t],t)};this.add=Array.prototype.push;this.select=function(n){var i,t;if(!n)throw"Mapping function is required";for(i=[],t=0;t<this.length;t++)i.push(n(this[t]));return u.array(i)};this.where=function(n){var i,t;if(!n)throw"Predicate function is required";for(i=[],t=0;t<this.length;t++)n(this[t])&&i.push(this[t]);return u.array(i)};this.reduce=function(n,t,i){for(var r=typeof t!="undefined"&&t!=null?t:[],u=0,f=this.length;u<f;u++)r=n.call(i,r,this[u]);return r};this.reduceRight=function(n,t,i){for(var r=typeof t!="undefined"&&t!=null?t:[],u=this.length-1;u>=0;u--)r=n.call(i,r,this[u]);return r};this.find=function(n,t){var i=t?this.select(t):this;return i.reduce(function(t,i){return t===n(t,i)?t:i},i[0])};this.first=function(n,t){if(!n)return this[0];for(var i=0,r=this.length;i<r;i++)if(n.call(t,this[i]))return this[i];throw"Can't find any element matches";};this.firstOrDefault=function(n,t){if(!n)return this[0];for(var i=0,r=this.length;i<r;i++)if(n.call(t,this[i]))return this[i];return null};this.indexOf=function(n){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(this,n);for(var t=0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1};this.remove=function(n){var t=this.indexOf(n);t>=0&&t<this.length&&this.splice(t,1)};this.removeAt=function(n){n>=0&&n<this.length&&this.splice(n,1)};this.swap=function(n,t){if(n>=0&&n<this.length&&t>=0&&t<this.length&&n!=t){var i=this[n];this[n]=this[t];this[t]=i}};var n=function(n){return function(t,i){for(var r=0,u=n.length;r<u;r++){var o=r===u-1,f=n[r].expression(t),e=n[r].expression(i);if(f>e)return n[r].isAscendant?1:-1;if(f<e)return n[r].isAscendant?-1:1;if(o)return n[r].isAscendant&&0}return 0}};this.orderBy=function(){for(var f,e,r=[],t=arguments[0]instanceof Array?arguments[0]:arguments,i=0,o=t.length;i<o;i++)f=typeof t[i]=="string",e=function(n,i){return function(r){return t[n]instanceof Function?t[n](r):i?u.getData(r[t[n]]):u.getData(r[t[n].field])}}(i,f),f||t[i]instanceof Function?r.push({expression:e,isAscendant:!0}):r.push({expression:e,isAscendant:t[i].isAsc});return this.sort(n(r))}}.call(this.array);this.array.addRange=function(n){return u.array(Array.prototype.concat.call(this,n))};this.array.any=function(n){for(var t=0,i=this.length;t<i;t++)if(n(this[t]))return!0;return!1};this.array.replace=function(n,t){for(var i=0,r=this.length;i<r;i++)this[i]===n&&this.splice(i,1,t)};var o="__events__",w=o.length;this.getData=function(n){for(var t=n;t instanceof Function;)t=t instanceof Function?t():t;return t};h=1;this.bind=function(n,i,r,u){var f,s;if(n===undefined||n===null)throw"Element must be specified";if(i===undefined||i===null)throw"Event name must be specified";if(r===undefined||r===null)throw"Callback must be specified";n.addEventListener?n.addEventListener(i,r,u):n.attachEvent("on"+i,r);t.addEventListener?(n[o]=n[o]||{},n[o][i]=n[o][i]||{},s=n[o][i].eventNo||0,n[o][i][s]=r,n[o][i].eventNo=s+1):(f=n.uniqueId||h++,n.uniqueId=f,e[i]=e[i]||{},e[i][f]=e[i][f]||{},s=e[i][f].eventNo||0,e[i][f][s]=r,e[i][f].eventNo=s+1)};this.trigger=function(n,i){if(i=i||this.$$(),!i)throw"Element must be specified";if(!n)throw"Event name must be specified";var r;t.createEvent?(r=t.createEvent("HTMLEvents"),r.initEvent(n,!0,!0)):t.createEventObject&&(r=t.createEventObject(),r.eventType=n);try{i[n]();return}catch(u){}r.eventName=n;i.dispatchEvent?i.dispatchEvent(r):i.fireEvent?i.fireEvent("on"+r.eventType,r):i["on"+n]&&i["on"+n]()};this.dispose=function(n){this.unbindAll(n);n&&n.parentElement?n.parentElement.removeChild(n):n=null};this.unbindAll=function(n){var s,h,c,i,f,r,l;if(n=n||this.$$(),n===null||n===undefined)throw"Element to unbind all events must be specified";if(t.addEventListener){s=n[o];for(i in s){h=s[i];for(r in h)h[r]instanceof Function&&u.unbind(i,h[r],!1,n);s[i]=null}n[o]=null}else if(c=n.uniqueId,c)for(i in e){if(f=e[i][c],!f)break;for(r in f)f[r]instanceof Function&&u.unbind(i,f[r],!1,n);e[i][c]=null}if(n!==null&&n.children&&n.children.length)for(l=0;l<n.children.length;l++)this.unbindAll(n.children[l])};this.unbind=function(n,t,i,r){var r=r||this.$$();if(!f)throw"Element to unbind event must be specified";if(!n)throw"Event name must be specified";r.removeEventListener?r.removeEventListener(n,t,i):r.detachEvent("on"+n,t)};this.subscribe=function(n,t){n&&n.subscribe&&n.subscribe(t)};this.unsubscribe=function(n,t){n&&n.subscribe&&n.unsubscribe(t)};this.disposable=function(n,t,i){if(n===null||n.parentElement===null){if(!t||!i)throw"Observer and listener must be specified";u.unsubscribe(t,i);n!==null&&u.dispose(n)}};this.createElement=function(n,i){var r=t.createElement(n);return i&&(r.type=i),f.appendChild(r),f=r};this.createElementNoParent=function(n){return f=t.createElement(n),this};c=function(n,t,i){var r,f;for(t=t*i,r=[],f=0;f<i;f++)r.push(n.children[t]),n.removeChild(n.children[t]);setTimeout(function(){for(var n=0;n<i;n++)u.unbindAll(r[n]);r=null})};l=function(n,t,i){var r=null;if(t.children.length===0)throw Exception("You must add at least one element");if(i=i*t.children.length,r=n.children[i],!r)while(t.children.length)n.appendChild(t.children[0]);while(t.children.length)n.insertBefore(t.children[0],r)};this.each=function(n,i){var r,e,s,a;if(!n)throw"Invalid argument exception. You must pass an array or observerd array.";r=f;u.get(r).empty();e=0;s=function(){var r=t.createElement("tmp"),e;return f=r,i.call(r,n()[0],0),e=r.children.length,u.dispose(r),e};for(var o=0,h=u.getData(n),v=h.length;o<v;o++)f=r,i.call(r,h[o],o);return a=function(n,o,h,a){var y,v,p;switch(a){case"push":f=r;i.call(r,o,n.length);break;case"add":if(f=r,h===n.length-1){i.call(r,o,h);return}y=t.createElement("tmp");i.call(y,o,h);l(r,y,h);u.dispose(y);break;case"remove":e=e||s();c(r,h,e);break;case"render":for(u.get(r).empty(),v=0,p=n.length;v<p;v++)f=r,i.call(r,n[v],v)}},this.subscribe(n,a),this};this.br=function(){var n=this.createElement("br");return this.$()};this.$=function(){return f=f.parentElement,this};this.element=this.$$=function(){return f};this.div=function(){var n=this.createElement("div");return this};this.i=function(){var n=this.createElement("i");return this};this.span=function(n){var f=u.getData(n),i=this.createElement("span"),r;return i.appendChild(t.createTextNode(f)),r=function(n){while(i.firstChild!==null)i.removeChild(i.firstChild);i.appendChild(t.createTextNode(n))},this.subscribe(n,r),this};this.space=function(n){for(var r,t="",i=0;i<n;i++)t+="&nbsp;";return r=this.span().$$(),r.innerHTML=t,this.$(),this};this.input=function(n,t){var i=f.nodeName.toLowerCase()==="input"?f:this.createElement("input"),e;return i.value=this.getData(n),n instanceof Function&&(e=function(){var r=this.value;n.isComputed&&!n.isComputed()?n(r,function(r){var e=i.nextSibling,o;e=e&&e.nodeName.toLowerCase()==="span"&&e.className==="html-error"&&e||null;o=r.firstOrDefault(function(n){return n.isValid===!1});r.length&&o!==null?(e?e.innerHTML=o.message:u.createElementNoParent("span").text(o.message).clss("html-error"),e=e||f,typeof t=="function"&&(e.style.display="none"),e&&u(e).insertAfter(i)):e&&e.parentElement.removeChild(e);t&&t({validationResults:r,observer:n,input:i})}):n.refresh()},r||this.config.lazyInput?r?this.keyup(e):this.change(e):(this.change(e).inputing(e).compositionstart(e).compositionend(e),this.focus(function(){p=i})),this.subscribe(n,function(t){t=u.getData(t);i.value=t;u.disposable(i,n,this)})),this};this.text=function(n){for(var e,r,o;f.firstChild!==null;)f.removeChild(f.firstChild);return e=u.getData(n),r=t.createTextNode(e),f.appendChild(r),o=function(n){r.nodeValue=n},i.subscribe(n,o),this};this.innerHTML=function(n){f.innerHTML=n};a=i.array(["change","keyup","keydown","keypress","compositionend","compositionstart","inputing","copy","paste","click","dblclick","mousedown","mouseup","focus","blur","mousemove","mouseover","mouseout","mouseenter","mouseleave"]);a.each(function(t){u[t]=function(i,r){var f=t==="inputing"?"input":t,u=this.$$();return this.bind(u,f,function(t){(t=t||n.event,t.preventDefault?t.preventDefault():t.returnValue=!1,i)&&(s=u||t.srcElement||t.target,i.call(s,t,r))},!1),this}});this.radio=function(n,i){var r,f;return n=n||"",i=i||"",r=t.createElement("input","radio"),r.name=n,f=this.getData(i),f==="true"||f===!0?(r.setAttribute("checked","checked"),r.checked=!0):(r.removeAttribute("checked"),r.checked=!1),i instanceof Function&&(this.change(function(){i.isComputed()?r.removeAttribute("checked"):i.refresh()},r),this.subscribe(i,function(n){n=u.getData(n);n==="true"||n===!0?(r.setAttribute("checked","checked"),r.checked=!0):(r.removeAttribute("checked"),r.checked=!1)})),this};this.checkbox=function(n){var t=f.nodeName.toLowerCase()==="input"&&f.type==="checkbox"?f:this.createElement("input","checkbox"),i=u.getData(n);return i==="true"||i===!0?(t.setAttribute("checked","checked"),t.checked=!0):(t.removeAttribute("checked"),t.checked=!1),n instanceof Function&&(this.click(function(){n.isComputed()?n.refresh():n(this.checked===!0)},t),this.subscribe(n,function(n){n==="true"||n===!0?(t.setAttribute("checked","checked"),t.checked=!0):(t.removeAttribute("checked"),t.checked=!1)})),this};this.button=function(n){var t=this.createElement("button");return t.innerHTML=n,this};this.clss=function(n){var t=u.getData(n);return f.setAttribute("class",t),this.subscribe(n,function(n){f.setAttribute("class",n)}),this};v=u.array(["h1","h2","h3","h4","h5","h6","td","th"]);v.each(function(n){u[n]=function(t){var i=u.createElement(n);return i.innerHTML=t,u}});this.id=function(n){return f.id=n,this};this.attr=function(n){for(var t in n)f.setAttribute(t,n[t]);return this};y=u.array(["table","thead","tbody","tr","td"]);y.each(function(n){u[n]=function(i){return u.createElement(n),i&&f.appendChild(t.createTextNode(i)),u}});this.a=function(n,i){var r=t.createElement("a");return r.innerHTML=n||"",r.href=i||"",f.appendChild(r),f=r,this};this.dropdown=function(n,t,i,r){var e=u.getData(t),o=f.nodeName.toLowerCase()==="select"?f:this.createElement("select");return this.each(n,function(n){var t=typeof r=="string"?n[r]:n,f=typeof i=="string"?n[i]:n;u.render(this).option(f,t,n===e).$()}),this.change(function(){for(var r=n[this.selectedIndex],i=0,f=u.getData(n).length;i<f;i++)i===this.selectedIndex&&t instanceof Function&&t(r)}),this};this.refresh=this.f5=function(){if(arguments.length){var t=arguments,i=f&&f.nodeName.toLowerCase(),n="";switch(i){case"button":case"a":n="click";break;case"input":n=f.type==="checkbox"||f.type==="radio"?"click":"change";break;default:n="change"}u.bind(f,n,function(){for(var n=0,i=t.length;n<i;n++)u.data.refresh(t[n])})}return this};this.select=function(){var n=this.createElement("select");return this};this.option=function(n,t,i){var r=this.createElement("option"),f;return t=u.getData(t),typeof t=="object"?r.__engineValue__=t:r.value=t,r.text=u.getData(n),u.getData(i)===!0&&(r.setAttribute("selected","selected"),r.selected=!0),f=function(n){n===!0?(r.setAttribute("selected","selected"),r.selected=!0):(r.removeAttribute("selected"),r.selected=!1)},u.subscribe(i,f),this};this.ul=function(){var n=this.createElement("ul");return this};this.li=function(n){var t=this.createElement("li");return this.text(n)};this.empty=function(n){for(n=n||f;n&&n.firstChild;)u.unbindAll(n.firstChild),n.removeChild(n.firstChild);return this};this.css=function(n){var i=f,t=u.getData(n);return t&&u.extend(f.style,t),u.subscribe(n,function(n){n&&u.extend(f.style,n)}),this};this.visible=function(n){var t=f,r=u.getData(n),i=function(n){t.style.display=n?"":"none"};return i(r),this.subscribe(n,i),this};this.hidden=function(n){var t=f,r=u.getData(n),i=function(n){t.style.display=n?"none":""};return i(r),this.subscribe(n,i),this};this.insertAfter=function(n){n.parentNode.insertBefore(f,n.nextSibling)};this.insertBefore=function(n){n.parentNode.insertBefore(f,n)};this.data=function(n){var t=n instanceof Array?u.array(n):n,s,l,i=u.array([]),h=u.array([]),o=u.array([]),f=u.array([]),c,a=function(){h.length&&h.each(function(n){n.refresh()});setTimeout(function(){if(i.length>0)for(var n=0;n<i.length;n++)i[n].call(i[n],u.getData(t),s||null,null,"render")})},r=l=function(n,r){if(n!==null&&n!==undefined){if(t!==n){if(s=n,o.length){for(c=r;f.length;)f.pop();o.each(function(n){n.call(l,s,t)})}if(t instanceof Array)for(var e=0,h=i.length;e<h;e++)i[e].call(i[e],u.getData(n),u.getData(t),null,"render");else a(t,n);t=n instanceof Array?u.array(n):n}}else return u.getData(t)},e;return r.setValidationResult=function(n,t){if(f.push({isValid:n,message:t}),o.length===f.length)for(c&&c(f);f.length;)f.pop()},r.getValidationResults=function(){return f},r.changeAfter=function(){for(var n=0,t=arguments.length;n<t;n++)arguments[n].isComputed&&arguments[n].setDependency(this);return this},r.setDependency=function(n){h.push(n)},r.validate=function(n){o.push(n)},e=function(n){if(!(n instanceof Array))throw"Observerd object is not an array, can't use this function";},r.isComputed=function(){return t instanceof Function},r.add=function(n,r){if(e(t),r=r===undefined?t.length:r,t.splice(r,0,n),i.length>0)for(var f=0,o=i.length,s=u.getData(t);f<o;f++)i[f].call(i[f],s,n,r,"add");return this},r.remove=function(n){e(t);var i=t.indexOf(n);return this.removeAt(i),this},r.removeAt=function(n){var f;if(e(t),f=t[n],t.splice(n,1),i.length>0)for(var r=0,o=i.length,s=u.getData(t);r<o;r++)i[r].call(i[r],s,f,n,"remove");return f=null,this},r.pop=function(){return e(t),this.removeAt(t.length-1),this},r.push=function(n){e(t);t.push(n);for(var r=0,f=i.length,o=u.getData(t);r<f;r++)i[r].call(i[r],o,n,null,"push")},r.subscribe=function(n){i.push(n)},r.unsubscribe=function(n){var t=i.indexOf(n);i.splice(t,1)},r.targets=function(){return i},r.refresh=r.f5=a,r.silentSet=function(n){t=n},r.orderBy=function(){e(t);var n=arguments;return t.orderBy.apply(t,n),this},u.extend(r,u.data.validation),u.extend(r,u.data.extensions),r};this.data.extensions={};this.data.validation={};this.data.validation.required=function(n){return this.validate(function(t){t===undefined||t===null||t===""?this.setValidationResult(!1,n):this.setValidationResult(!0,n)}),this};this.data.validation.maxLength=function(n,t){return this.validate(function(i){typeof i=="string"&&i.length>n?this.setValidationResult(!1,t):this.setValidationResult(!0,t)}),this};this.data.validation.minLength=function(n,t){return this.validate(function(i){typeof i=="string"&&i.length<n?this.setValidationResult(!1,t):this.setValidationResult(!0,t)}),this};this.data.validation.stringLength=function(n,t,i){return this.validate(function(r){typeof r=="string"&&(r.length<n||r>t)?this.setValidationResult(!1,i):this.setValidationResult(!0,i)}),this};this.data.validation.range=function(n,t,i){return this.validate(function(r){/\D/.test(r)?this.setValidationResult(!1,"The value must be a number."):parseFloat(r)<n?this.setValidationResult(!1,i||"The value can't be less than "+n+"."):parseFloat(r)>t?this.setValidationResult(!1,i||"The value can't be greater than "+t+"."):this.setValidationResult(!0,i)}),this};this.data.validation.greaterThan=function(n,t){return this.validate(function(i){i<=u.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.lessThan=function(n,t){return this.validate(function(i){i>=u.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.greaterThanOrEqual=function(n,t){return this.validate(function(i){i<u.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.lessThanOrEqual=function(n,t){return this.validate(function(i){i<u.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.validation.equal=function(n,t){return this.validate(function(i){i!==u.getData(n)?this.setValidationResult(!1,t):this.setValidationResult(!0)}),this};this.data.refresh=function(n){if(n.isComputed&&n.isComputed()){n.refresh();return}for(var t in n)n[t].isComputed&&n[t].isComputed()&&n[t].refresh()};this.serialize=function(n){var t,f;n=n.isComputed?n():n;var r=n instanceof Array,i=r?[]:{},e=typeof n=="object"&&n!==null&&n!==undefined&&!(n instanceof Date);if(!e)return n;for(t in n)i[t]=n[t].isComputed&&!n[t]().add?n[t]():u.serialize(n[t]);if(r)for(t=0,f=n.length;t<f;t++)i[t]=u.serialize(n[t]);return i}}.call(i),function(){this.ready=function(n){o(n);c()};var e=!1,u=!1,f=[],o=function(n){typeof n=="function"&&f.push(n)},h=function(){while(f.length)f.shift()();o=function(n){n()}},i=function(){t.addEventListener?t.removeEventListener("DOMContentLoaded",i,!1):t.detachEvent("onreadystatechange",i);r()},r=function(){if(!u){if(!t.body)return setTimeout(r,1);u=!0;h()}},c=function(){var u=!1;if(!e)if(e=!0,t.readyState!=="loading"&&r(),t.addEventListener)t.addEventListener("DOMContentLoaded",i,!1),n.addEventListener("load",i,!1);else if(t.attachEvent){t.attachEvent("onreadystatechange",i);n.attachEvent("onload",i);try{u=n.frameElement==null}catch(f){}t.documentElement.doScroll&&u&&s()}},s=function(){if(!u){try{t.documentElement.doScroll("left")}catch(n){setTimeout(s,1);return}r()}}}.call(i),function(){var e=this,n,o=/\D+/g,i="outline-color",u="rgb(00,00,07)",s=/-([a-z])/g,h=function(n,t){return t.toUpperCase()},c=function(n){var r=t.getElementById(n),i;if(r){if(r.attributes.id&&r.attributes.id.value==n)return r;for(i=1;i<t.all[n].length;i++)if(t.all[n][i].attributes.id&&t.all[n][i].attributes.id.value==n)return t.all[n][i]}return null},r=t.createElement("style"),f=t.getElementsByTagName("script")[0];f.parentNode.insertBefore(r,f);t.defaultView&&t.defaultView.getComputedStyle?n=function(n,t){return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(t)}:t.documentElement.currentStyle&&(n=function(n,t){return n.currentStyle&&n.currentStyle[t.replace(s,h)]});this.query=this.querySelectorAll=function(f,s,h){var l,v,y,p,a,w;s=s||t;h=h||[];v=h.length||0;try{r.innerHTML=f+"{"+i+":"+u+"}"}catch(l){r.styleSheet.cssText=f+"{"+i+":"+u+"}"}for(t.defaultView&&t.querySelectorAll?(l="",y=s.id,p=s,s!=t&&(l="__slim__",s.id=l,l="#"+l+" "),s=t.querySelectorAll(l+f),y&&(p.id=y),f=1):!s[0]&&(l=/(.*)#([\w-]+)([^\s>~]*)[\s>~]*(.*)/.exec(f))&&l[2]&&(s=c(l[2]),l[4]||(s=[s],l[1]||l[3]||(f=1))),s=f==1||s[0]&&s[0].nodeType==1?s:s.getElementsByTagName(f.replace(/\[[^\]]+\]|\.[\w-]+|\s*$/g,"").replace(/^.*[^\w]/,"")||"*"),a=0,w=s.length;a<w;a++)s[a].nodeType==1&&(f==1||n(s[a],i).replace(o,"")==7)&&(h[v++]=s[a]);return h.length=v,e.array(h)};this.querySelector=function(n,t,i){return this.querySelectorAll(n,t,i)[0]}}.call(i),function(){var n=this,s={},h={},r=i.array([]),u=i.array([]),f=i.array([]),c=t.head||i.querySelector("head")||i(t).createElement("head").$$(),l=function(){var i=!1,t;return typeof u=="string"?r.each(function(n){n.url===u&&n.isLoaded&&(i=!0)}):u instanceof Array&&(i=!0,u.each(function(n){var t=r.firstOrDefault(function(t){return t.url===n&&t.isLoaded});t||(i=!1)})),i?(t=f.firstOrDefault(),t instanceof Function&&(t(),f.remove(t),t=f.firstOrDefault()),f.remove(t),n.scripts.render(t)):void 0},e,o;n.config.allowDuplicate=!1;e=function(i,u){var o=r.firstOrDefault(function(n){return n.url===i}),f,e;if(!o||n.config.allowDuplicate)return f=t.createElement("script"),f.type="text/javascript",f.charset="utf-8",f.async=!0,e=function(){f.parentElement.removeChild(f);r.push({url:i,isLoaded:!0});u.call(f,i)},f.onreadystatechange!==undefined?f.onload=f.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&e()}:n.bind(f,"load",e),f.src=i,c.appendChild(f),f};o=function(i){var f=r.firstOrDefault(function(n){return n.url===i}),u;if(!f||n.config.allowDuplicate)return u=t.createElement("link"),u.type="text/css",u.rel="stylesheet",u.href=i,u.async=!0,c.appendChild(u),r.push({url:i,isLoaded:!0}),u};this.scripts=function(t){n.extend(s,t)};this.styles=function(t){n.extend(h,t)};this.scripts.render=function(n){var t=s[n],r,f;if(t){if(typeof t=="string")u=t,e(t,l);else if(t instanceof Array)for(u=i.array(t),r=0,f=t.length;r<f;r++)e(t[r],l);return this}};this.styles.render=function(n){var t=h[n],i,r;if(t){if(typeof t=="string")o(t);else if(t instanceof Array)for(i=0,r=scriptList.length;i<r;i++)o(t[i]);return this}};this.scripts.then=function(n){return f.push(n),this};this.styles.then=function(t){return n.styles.render(t)};this.scripts.done=function(n){return f.push(n),this}}.call(i),i})