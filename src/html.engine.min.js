!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t):"function"==typeof define&&define.amd?define(e(t)):t.html=e(t)}(this||(0,eval)("this"),function(t){var e=t.document,n=t.JSON,r=!e.addEventListener,i=Array.prototype,a=Object.prototype,s=i.isArray||function(t){return"[object Array]"==a.toString.call(t)},o=function(t){return"[object Function]"==a.toString.call(t)},u=function(t){return"string"==typeof t},l=function(t){return void 0!==t&&null!==t},c=function(t){return/^-?\d+\.?\d*$/.test(t)},h=function(t){return e.body.contains(t)},f=function(t){return t&&t.isCOmputed},d=String.prototype.trim,p=String.prototype.trimLeft,v=String.prototype.trimRight,m=function(e,n){return o(e)?m.ready(e):u(e)||e.nodeType||e===t?m.get(e,n):void 0},g=function(){var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("msie")?parseInt(t.split("msie")[1]):!1},y=9===g(),b=(8===g(),function(t){return"object"==typeof t&&l(t)&&!m.isDate(t)}),E=function(t,e){var n;for(var n in t)t.hasOwnProperty(n)&&e.call(t,t[n],n)},w=function(t){return d&&d.call(t)||t.replace(/^\s+|\s+$/,"")},x=function(t){return p&&p.call(t)||t.replace(/^\s+/,"")},C=function(t){return v&&v.call(t)||t.replace(/\s+$/,"")},D=function(t){return w(t).toLowerCase().replace(/\s{2,}/g," ")},L=function(t){var e="";return E(t,function(t){var n=t;b(t)&&(n=L(t)),t.isComputed&&t.isComputed()&&(n=t(),b(n)&&(n=L(n))),n&&(e+=n.toString()+" ")}),e};return m.isIE=g,m.isArray=s,m.isStrNumber=c,m.isNotNull=l,m.isInDOM=h,m.trim=w,m.trimLeft=x,m.trimRight=C,m.config={lazyInput:!1,historyEnabled:!0},m.version="1.0.0",function(){var n,d,p={},v={};m.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},m.expando=function(t,e){if(!l(e)){var r=n.uniqueId;return r&&v[r]?v[r][t]:null}var r=n.uniqueId||++C;n.uniqueId=r,v[r]=v[r]||{},v[r][t]=e},m.get=function(e,r){if(e&&(e.nodeType||e===t))n=e;else if(u(e)){var i=this.query(e,r)[0];n=i}return this},m.find=function(t){return n=this.query(t,n)[0],this};var g=this.array=function(){var t=Array.apply({},arguments[0]||[]);return m.extend(t,m.array),t};(function(){this.each=i.forEach||function(t){for(var e=this.length,n=-1;++n<e;)t(this[n],n)},this.add=Array.prototype.push,this.select=function(t){for(var e=[],n=this.length,r=-1;++r<n;)e.push(t(this[r]));return m.array(e)},this.where=function(t){if(!t)throw"Predicate function is required";for(var e=[],n=this.length,r=-1;++r<n;)t(this[r])&&e.push(this[r]);return m.array(e)},this.reduce=i.reduce||function(t,e,n){n=n||this;for(var r=l(e)?e:[],i=this.length,a=-1;++a<i;)r=t.call(n,r,this[a]);return r},this.reduceRight=i.reduceRight||function(t,e,n){for(var r=l(e)?e:[],i=this.length;i--;)r=t.call(n,r,this[i]);return r},this.find=function(t,e){var n=e?this.select(e):this;return n.reduce(function(e,n){return e===t(e,n)?e:n},n[0])},this.first=function(t,e){if(!t)return this[0];for(var n=this.length,r=-1;++r<n;)if(t.call(e,this[r]))return this[r];throw"Can't find any element matches"},this.firstOrDefault=function(t,e){if(!t)return this[0];for(var n=this.length,r=-1;++r<n;)if(t.call(e,this[r]))return this[r];return null},this.indexOf=i.indexOf||function(t){for(var e=this.length,n=-1;++n<e;)if(this[n]===t)return n;return-1},this.remove=function(t){var e=this.indexOf(t);e>=0&&e<this.length&&this.splice(e,1)},this.removeAt=function(t){t>=0&&t<this.length&&this.splice(t,1)},this.swap=function(t,e){if(t>=0&&t<this.length&&e>=0&&e<this.length&&t!=e){var n=this[t];this[t]=this[e],this[e]=n}},this.move=function(t,e){this.splice(e,0,this.splice(t,1)[0])};var t=function(t){return function(e,n){for(var r=0,i=t.length;i>r;r++){var a=r===i-1,s=t[r].expression(e),o=t[r].expression(n);if(s>o)return t[r].isAscendant?1:-1;if(o>s)return t[r].isAscendant?-1:1;if(a)return t[r].isAscendant&&0}return 0}};this.orderBy=function(){for(var e=[],n=arguments[0]instanceof Array?arguments[0]:arguments,r=0,i=n.length;i>r;r++){var a="string"==typeof n[r],s=function(t,e){return function(r){return n[t]instanceof Function?n[t](r):m.getData(e?r[n[t]]:r[n[t].field])}}(r,a);e.push(a||o(n[r])?{expression:s,isAscendant:l(n[r].isAsc)?n[r].isAsc:!0}:{expression:s,isAscendant:n[r].isAsc})}return this.sort(t(e))}}).call(this.array),m.array.addRange=function(t){return m.array(Array.prototype.concat.call(this,t))},m.array.any=function(t){for(var e=this.length,n=-1;++n<e;)if(t(this[n]))return!0;return!1},m.array.replace=function(t,e){for(var n=this.length,r=-1;++r<n;)this[r]===t&&this.splice(r,1,e)};var x=m.array(["Arguments","Function","String","Number","Date","RegExp"]);x.each(function(t){m["is"+t]=function(e){return a.toString.call(e)=="[object "+t+"]"}}),m.getData=function(t){for(var e=t;o(e);)e=e();return e};var C=1;m.bind=function(t,e,n,r){if(void 0===t||null===t)throw"Element must be specified";if(void 0===e||null===e)throw"Event name must be specified";if(void 0===n||null===n)throw"Callback must be specified";t.addEventListener?t.addEventListener(e,n,r):t.attachEvent("on"+e,n);var i=t.uniqueId||++C;t.uniqueId=i,p[e]=p[e]||{},p[e][i]=p[e][i]||[],p[e][i].push(n)},m.trigger=function(t,r){if(r=r||n,!r)throw"Element must be specified";if(!t)throw"Event name must be specified";var i;e.createEvent?(i=e.createEvent("HTMLEvents"),i.initEvent(t,!0,!0)):e.createEventObject&&(i=e.createEventObject(),i.eventType=t);try{return void r[t]()}catch(a){}try{i.eventName=t,r.dispatchEvent?r.dispatchEvent(i):r.fireEvent?r.fireEvent("on"+i.eventType,i):r["on"+t]&&r["on"+t]()}catch(a){}},m.dispose=function(t){this.unbindAll(t),t&&t.parentElement&&t.parentElement.removeChild(t)},m.unbindAll=function(t){if(t=t||n,null===t||void 0===t)throw"Element to unbind all events must be specified";var e=t.uniqueId;if(e&&E(p,function(n,r){var i=n[e];if(s(i)){for(;i.length;){var a=i.pop();o(a)&&m.unbind(r,a,!1,t,!0)}delete n[e]}}),null!==t&&t.children&&t.children.length)for(var r=0;r<t.children.length;r++)this.unbindAll(t.children[r])},m.unbind=function(t,e,r,i){var i=i||n;if(!n)throw"Element to unbind event must be specified";if(!t)throw"Event name must be specified";e||E(p,function(e,n){if(n===t){var a=e[i.uniqueId];if(s(a))for(;a.length;){var o=a.pop();i.removeEventListener?i.removeEventListener(t,o,r):i.detachEvent("on"+t,o)}}});try{i.removeEventListener?i.removeEventListener(t,e,r):i.detachEvent("on"+t,e)}catch(a){}},m.subscribe=function(t,e){t&&t.subscribe&&t.subscribe(e)},m.unsubscribe=function(t,e){t&&t.subscribe&&t.unsubscribe(e)},m.disposable=function(t,e,n){if(null===t||!h(t)){if(!e||!n)throw"Observer and listener must be specified";m.unsubscribe(e,n),null!==t&&m.dispose(t)}},m.createElement=function(t,r){var i=e.createElement(t);return r&&(i.type=r),n.appendChild(i),n=i},m.createEleNoParent=function(t){return n=e.createElement(t),this};var k=function(t,e,n){e*=n;for(var r=[],i=0;n>i&&t.children.length;i++)r.push(t.children[e]),t.removeChild(t.children[e]);setTimeout(function(){for(var t=0;n>t;t++)m.unbindAll(r[t]);r=null})},A=function(t,e,n){var r=null;if(0===e.children.length)throw Exception("You must add at least one element");if(n*=e.children.length,r=t.children[n],!r)for(;e.children.length;)t.appendChild(e.children[0]);for(;e.children.length;)t.insertBefore(e.children[0],r)};m.each=function(t,r){function i(){if(0!==s)return s;var i=e.createElement("tmp");return n=i,r.call(i,m.getData(t)[0],0),s=i.children.length,m.dispose(i),i=null,n=a,s}if(!t)throw"Invalid argument exception. You must pass an array or observerd array.";var a=n;m.get(a).empty();for(var s=0,o=m.getData(t),u=o.length,l=-1;++l<u;)n=a,r.call(a,o[l],l);var c=function(o,u,l,c){if(m.disposable(a,t,this),!h(a))return void(a=null);switch(n=a,c){case"push":r.call(a,u,l);break;case"add":if(s=i(),l===o.length-1)return void r.call(a,u,l);var f=e.createElement("tmp");n=f,r.call(f,u,l),A(a,f,l),m.dispose(f),f=null;break;case"remove":s=i(),k(a,l,s);break;case"move":s=i();var d=l,p=o.indexOf(u);if(d===p)return;for(var v=p*s,g=d>p?a.children[(d+1)*s]:a.children[d*s],y=0,b=s;b>y;y++)a.insertBefore(a.children[v],g),p>d&&v++;break;case"render":m.empty();for(var E=o.length||o,y=-1;++y<E;)n=a,r.call(a,o[y],y)}};return this.subscribe(t,c),this},m.quickEach=function(t,e){var r=m.getData(t);if(s(r))for(var i=r.length,a=-1,o=n;++a<i;)n=o,e.call(n,r[a])},m.append=function(t){var e=n;return t(),n=e,e=null,this},m.enable=function(t){var e=n,r=function(n){n?(e.disabled=!1,e.removeAttribute("disabled")):(e.disabled=!0,e.setAttribute("disabled","disabled")),m.disposable(e,t,this),h(e)||(e=null)};return r(m.getData(t)),this.subscribe(t,r),this},m.br=function(){this.createElement("br");return this.$()},m.$=function(t){if(t){if(t.nodeName)return n=t,this;for(var e=t.split(" "),r=0,i=e.length;i>r;r++)if(e[r]!==n.nodeName.toLowerCase()){for(;n.nodeName.toLowerCase()!==e[r];)n=n.parentElement;for(;e[r+1]===n.parentElement.nodeName.toLowerCase();)n=n.parentElement,r++}return this}return n=n.parentElement,this},m.element=this.$$=function(){return n},m.div=function(){this.createElement("div");return this},m.i=function(){this.createElement("i");return this},m.span=function(t){var e=m.getData(t),n=this.createElement("span");n.innerHTML=e;var r=function(e){n.innerHTML=e,m.disposable(n,t,this),h(n)||(n=null)};return this.subscribe(t,r),this},m.space=function(t){for(var e="",n=0;t>n;n++)e+="&nbsp;";var r=this.span().$$();return r.innerHTML=e,this.$(),this},m.input=function(t,e){var i="input"===n.nodeName.toLowerCase()||"textarea"===n.nodeName.toLowerCase()?n:this.createElement("input");if(i.value=this.getData(t),o(t)){t.delay(t.delay()||0);var a=l(t.lazyInput)?t.lazyInput:this.config.lazyInput,s=function(){var r=this.value;t.isComputed&&!t.isComputed()?t(r,function(r){e&&e({validationResults:g.where.call(r,function(t){return t.isValid===!1}),observer:t,input:i});var a=i.nextSibling;a=a&&"span"===a.nodeName.toLowerCase()&&"html-error"===a.className&&a||null;var s=m.array.firstOrDefault.call(r,function(t){return t.isValid===!1});r.length&&null!==s?(a?a.innerHTML=s.message:m.createEleNoParent("span").text(s.message).clss("html-error"),a=a||n,a&&m(a).insertAfter(i)):a&&a.parentElement.removeChild(a)}):t.refresh(0)};y&&!a?this.change(s).compositionend(s).compositionstart(s).cut(s).keydown(s).keyup(s).paste(s):r||a?r&&!a?this.keydown(s).keyup(s).change(s).cut(s).paste(s):this.change(s):this.change(s).compositionend(s).compositionstart(s).inputting(s),this.subscribe(t,function(e){i!==d&&(i.value=e),m.disposable(i,t,this),h(i)||(i=null)})}return this},m.searchbox=function(t,e){var n=e||m.data("");return this.input(n),n.subscribe(function(e){t.filter(e)}),this},m.text=function(t){if(!t)return this;for(var e=n;null!==e.firstChild;)e.removeChild(e.firstChild);var r=m.getData(t);try{e.innerHTML=r}catch(i){e.innerText=r}var a=function(n){try{e.innerHTML=n}catch(r){e.innerText=n}m.disposable(e,t,this),h(e)||(e=null)};return m.subscribe(t,a),this},m.innerHTML=function(t){n.innerHTML=t};var T=["click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","keydown","keypress","keyup","abort","beforeunload","error","hashchange","load","resize","scroll","unload","blur","change","focus","focusin","focusout","inputting","invalid","reset","search","select","submit","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","copy","cut","paste","afterprint","beforeprint","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","animationend","animationiteration","animationstart","transitionend","message","online","offline","popstate","show","storage","toggle","wheel","compositionend","compositionstart"];g.each.call(T,function(e){m[e]=function(n,r){var i="inputting"===e?"input":e;return n?(this.bind(this.$$(),i,function(e){e=e||t.event,d=e.srcElement||e.target,n&&n.call(d,e,r)},!1),this):(m.trigger(i),this)}}),m.radio=function(t,n,r){t=t||"",r=r||"";var i=e.createElement("input","radio");i.name=t,i.value=n;var a=this.getData(r);if("true"===a||a===!0?(i.setAttribute("checked","checked"),i.checked=!0):(i.removeAttribute("checked"),i.checked=!1),o(r)){var s=function(){r.isComputed()?i.removeAttribute("checked"):r.refresh()};this.change(s).click(s),this.subscribe(r,function(t){return m.disposable(i,r,this),h(i)?void("true"===t||t===!0?(i.setAttribute("checked","checked"),i.checked=!0):(i.removeAttribute("checked"),i.checked=!1)):void(i=null)})}return this},m.checkbox=function(t){var e="input"===n.nodeName.toLowerCase()&&"checkbox"===n.type?n:this.createElement("input","checkbox"),r=m.getData(t);if("true"===r||r===!0?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1),o(t)){var i=function(){t.isComputed()?t.refresh():t(this.checked===!0)};this.change(i).click(i),this.subscribe(t,function(n){return m.disposable(e,t,this),h(e)?void(e!==d&&("true"===n||n===!0?(e.setAttribute("checked","checked"),e.checked=!0):(e.removeAttribute("checked"),e.checked=!1))):void(e=null)})}return this},m.button=function(t){var e=this.createElement("button");try{e.innerHTML=t}catch(n){e.innerText=t}return this},m.clss=this.className=function(t){return n.className=m.getData(t),this.subscribe(t,function(t){n.className=t}),this};var S=m.array(["h1","h2","h3","h4","h5","h6","td","th","img","p"]);S.each(function(t){m[t]=function(e){var n=m.createElement(t);return n.innerHTML=m.getData(e),m}}),m.id=function(t){return n.id=t,this},m.attr=function(t){var e=n,r=m.getData(t);for(var i in r)e.setAttribute(i,r[i]),function(t){r[t].subscribe&&r[t].subscribe(function(n){e.setAttribute(t,n)})}(i);return t.subscribe&&t.subscribe(function(t){for(var n in t)e.setAttribute(n,t[n])}),this};var R=m.array(["table","thead","tbody","tr","td"]);R.each(function(t){m[t]=function(r){return m.createElement(t),r&&n.appendChild(e.createTextNode(m.getData(r))),m}}),m.a=function(t,r){var i=e.createElement("a");if(f(t)){var a=m.getData(t);i.innerHTML=a.text,i.href=a.href,t.subscribe(function(t){i.innerHTML=t.text,i.href=t.href})}else i.innerHTML=t||"",i.href=r||"";return n.appendChild(i),n=i,this},m.dropdown=function(t,e,r,i){var a=m.getData(e),s="select"===n.nodeName.toLowerCase()?n:this.createElement("select");return this.each(t,function(t){var e=u(i)?t[i]:t,n=u(r)?t[r]:t;m.option(n,e,t===a).$()}),o(e)&&(this.change(function(){for(var n=t[this.selectedIndex],r=0,i=m.getData(t).length;i>r;r++)r===this.selectedIndex&&e(n)}),e.subscribe(function(e){var n=m.getData(t),r=n.indexOf(e);s.options[r].selected=!0,s.options[r].setAttribute("selected","selected")})),this},m.refresh=this.f5=function(){if(arguments.length){var t=arguments,e=n&&n.nodeName.toLowerCase(),r="";switch(e){case"button":case"a":r="click";break;case"input":r="checkbox"===n.type||"radio"===n.type||"submit"===n.type?"click":"change";break;default:r="change"}m.bind(n,r,function(){for(var e=0,n=t.length;n>e;e++)m.data.refresh(t[e])})}return this},m.select=function(){this.createElement("select");return this},m.option=function(t,e,n){var r=this.createElement("option"),i="selected";r.value=m.getData(e),r.text=m.getData(t),m.getData(n)===!0&&(r.setAttribute(i,i),r.selected=!0);var a=function(t){t===!0?(r.setAttribute(i,i),r.selected=!0):(r.removeAttribute(i),r.selected=!1)};return m.subscribe(n,a),this},m.ul=function(){this.createElement("ul");return this},m.li=function(t){this.createElement("li");return this.text(t)},m.empty=function(t){for(t=t||n;t&&t.firstChild;)m.unbindAll(t.firstChild),t.removeChild(t.firstChild);return this},m.css=function(t){var e=m.getData(t);return e&&m.extend(n.style,e),m.subscribe(t,function(t){t&&m.extend(n.style,t)}),this},m.visible=function(t){var e=n,r=m.getData(t),i=function(t){e.style.display=t?"":"none"};return i(r),this.subscribe(t,i),this},m.hidden=function(t){var e=n,r=m.getData(t),i=function(t){e.style.display=t?"none":""};return i(r),this.subscribe(t,i),this},m.insertAfter=function(t){t.parentNode.insertBefore(n,t.nextSibling)},m.insertBefore=function(t){t.parentNode.insertBefore(n,t)},m.data=function(t){var e=s(t),n=e?m.array(t):t,r=null,i=e?0:null,a=[],u=[],h=e?null:[],f=e?null:[],d=null,p=null,v=!1,y=function(t,i){if(null===t||void 0===t)return m.getData(n);if(n!==t){if(v=!0,h&&h.length)for(d=i;f.length;)f.pop();r=m.getData(n),n=e?m.array(t):t,w()}};y.changeAfter=function(){for(var t=0,e=arguments.length;e>t;t++)arguments[t].isComputed&&arguments[t].setDependency(this);return this},y.delay=function(t){return t?(i=t,this):i},y.setDependency=function(t){u.push(t)},y.isComputed=function(){return o(n)},y.isDirty=function(t){if(v)return!0;if(t=t||n,!b(t))return!1;for(var e in t){if(t[e].isDirty&&t[e].isDirty())return!0;if(b(t[e])&&y.isDirty(t[e]))return!0}return!1},y.subscribe=function(t){return a.push(t),this},y.unsubscribe=function(t){setTimeout(function(){var e=g.indexOf.call(a,t);a.splice(e,1)})};var E,w=y.refresh=y.f5=function(){if(c(i)&&0===i){h&&g.each.call(h,function(t){t.call(y,n,r)}),u.length&&g.each.call(u,function(t){t.refresh()});var t=p||m.getData(n);g.each.call(a,function(e){e.call(e,t,r,null,"render")})}else if(c(i)||!l(i)){var e=i||0;E&&clearTimeout(E),E=setTimeout(function(){g.each.call(h,function(t){t.call(y,n,r)}),u.length&&g.each.call(u,function(t){t.refresh()});var t=p||m.getData(n);g.each.call(a,function(e){e.call(e,t,r,null,"render")})},e)}};return y.serialize=function(){return m.serialize(n)},y.silentSet=function(t){return n=t,this},m.extend(y,m.data.validation),m.extend(y,m.data.extensions),y.targets=a,y.dependencies=u,e?(y.add=function(t,e){v=!0,e=void 0===e?n.length:e,n.splice(e,0,t),l(p)&&(p.push(t),e=p.length);var r=p||n;return g.each.call(a,function(n){n.call(n,r,t,e,"add")}),this},y.remove=function(t){v=!0;var e=n.indexOf(t);return this.removeAt(e),this},y.removeAt=function(t){v=!0;var e=n[t];n.splice(t,1);var r=n;if(p){if(t=p.indexOf(e),0>t)return;p.splice(t,1),r=p}return u.length&&g.each.call(u,function(t){t.refresh()}),g.each.call(a,function(n){n.call(n,r,e,t,"remove")}),e=null,this},y.pop=function(){return v=!0,this.removeAt(n.length-1),this},y.push=function(t){v=!0;var e=n.length;n.push(t),l(p)&&(e=p.length,p.push(t));var r=p||n;g.each.call(a,function(n){n.call(n,r,t,e,"push")})},y.move=function(t,e){v=!0;var r=p||n,i=r[t];g.each.call(a,function(t){t.call(t,r,i,e,"move")}),r.move(t,e),p&&(t=n.indexOf(r[t]),e=n.indexOf(r[e]),n.move(t,e))},y.swap=function(t,e){if(v=!0,t!==e){t>e&&(t+=e,e=t-e,t-=e);this.move(t,e),t!==e-1&&this.move(e-1,t)}},y.splice=function(t,e,n){v=!0;for(var r=0;e>r;r++)this.removeAt(t);if(s(n))for(var r=n.length-1;r>=0;r--)this.add(n[r],t);else l(n)&&this.add(n,t)},y.orderBy=function(){var t=arguments;return n.orderBy.apply(n,t),p&&p.orderBy.apply(p,t),w(),this},y.where=function(){var t=arguments;return p=n.where.apply(n,t),p&&p.length?(w(),this):(p=null,this)},y.filter=function(t){if(!t)return p=null,w(),this;var e=null;p=m.array([]);for(var r=0,i=n.length;i>r;r++)e=m.serialize(n[r]),D(L(e)).indexOf(D(t))>=0&&p.push(n[r]);return w(),this},y.getFilterResult=function(){return p},y.setFilterResult=function(t){s(t)&&(p=m.array(t),w())},y):(y.setValidationResult=function(t,e){f.push({isValid:t,message:e}),h.length===f.length&&d&&d(f)},y.validate=function(t){if(t)h.push(t);else{for(;f.length;)f.pop();g.each.call(h,function(t){t.call(y,n,r)})}return this},y.setErrorHandler=function(t){return d=t,this},y.validators=function(){return g(h)},y.validationResults=function(){return g(f)},y.isValid=function(){return h.length!==f.length?!1:!g.any.call(f,function(t){return t.isValid===!1})},y.lazyInput=null,y)},m.data.extensions={},m.data.validation={},m.data.validation.required=function(t){return this.validate(function(e){l(e)&&""!==w(e)?this.setValidationResult(!0,t):this.setValidationResult(!1,t)}),this},m.data.validation.isNumber=function(t){return this.validate(function(e){l(e)&&c(e)?this.setValidationResult(!0,t):this.setValidationResult(!1,t)}),this},m.data.validation.isEmail=function(t){return this.validate(function(e){l(e)&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?this.setValidationResult(!0,t):this.setValidationResult(!1,t)}),this},m.data.validation.pattern=function(t,e){return this.validate(function(n){l(n)&&t.test(n)?this.setValidationResult(!0,e):this.setValidationResult(!1,e)}),this},m.data.validation.maxLength=function(t,e){return this.validate(function(n){u(n)&&n.length>t?this.setValidationResult(!1,e):this.setValidationResult(!0,e)}),this},m.data.validation.minLength=function(t,e){return this.validate(function(n){u(n)&&n.length<t?this.setValidationResult(!1,e):this.setValidationResult(!0,e)}),this},m.data.validation.stringLength=function(t,e,n){return this.validate(function(r){u(r)&&(r.length<t||r>e)?this.setValidationResult(!1,n):this.setValidationResult(!0,n)}),this},m.data.validation.range=function(t,e,n){return this.validate(function(r){c(r)?parseFloat(r)<t?this.setValidationResult(!1,n||"The value can't be less than "+t+"."):parseFloat(r)>e?this.setValidationResult(!1,n||"The value can't be greater than "+e+"."):this.setValidationResult(!0,n):this.setValidationResult(!1,"The value must be a number.")}),this},m.data.validation.greaterThan=function(t,e){return this.validate(function(n){n<=m.getData(t)?this.setValidationResult(!1,e):this.setValidationResult(!0)}),this},m.data.validation.lessThan=function(t,e){return this.validate(function(n){n>=m.getData(t)?this.setValidationResult(!1,e):this.setValidationResult(!0)}),this},m.data.validation.greaterThanOrEqual=function(t,e){return this.validate(function(n){n<m.getData(t)?this.setValidationResult(!1,e):this.setValidationResult(!0)}),this},m.data.validation.lessThanOrEqual=function(t,e){return this.validate(function(n){n<m.getData(t)?this.setValidationResult(!1,e):this.setValidationResult(!0)}),this},m.data.validation.equal=function(t,e){return this.validate(function(n){n!==m.getData(t)?this.setValidationResult(!1,e):this.setValidationResult(!0)}),this},m.data.refresh=function(t){if(t.isComputed&&t.isComputed())return void t.refresh();for(var e in t)t[e].isComputed&&t[e].isComputed()&&t[e].refresh()},m.serialize=function(t){t=t&&t.isComputed?t():t;var e=s(t),n=e?[]:{},r=b(t)||!l(t);if(!r)return t;for(var i in t)n[i]=t[i]&&t[i].isComputed&&!t[i].add?t[i]():m.serialize(t[i]);if(e)for(var i=0,a=t.length;a>i;i++)n[i]=m.serialize(t[i]);return n}}.call(m),function(){m.ready=function(t){a(t),c()};var n=!1,r=!1,i=[],a=function(t){o(t)&&i.push(t)},s=function(){for(;i.length;)i.shift()();a=function(t){t()}},u=function(){e.addEventListener?e.removeEventListener("DOMContentLoaded",u,!1):e.detachEvent("onreadystatechange",u),l()},l=function(){if(!r){if(!e.body)return setTimeout(l,1);r=!0,s()}},c=function(){var r=!1;if(!n)if(n=!0,"loading"!==e.readyState&&l(),e.addEventListener)e.addEventListener("DOMContentLoaded",u,!1),t.addEventListener("load",u,!1);else if(e.attachEvent){e.attachEvent("onreadystatechange",u),t.attachEvent("onload",u);try{r=null==t.frameElement}catch(i){}e.documentElement.doScroll&&r&&h()}},h=function(){if(!r){try{e.documentElement.doScroll("left")}catch(t){return void setTimeout(h,1)}l()}}}.call(m),function(){var t,n=/\D+/g,r="outline-color",i="rgb(00,00,07)",a=/-([a-z])/g,s=function(t,e){return e.toUpperCase()},o=function(t){var n=e.getElementById(t);if(n){if(n.attributes.id&&n.attributes.id.value==t)return n;for(var r=1;r<e.all[t].length;r++)if(e.all[t][r].attributes.id&&e.all[t][r].attributes.id.value==t)return e.all[t][r]}return null},u=e.createElement("style"),l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(u,l),e.defaultView&&e.defaultView.getComputedStyle?t=function(t,e){return t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(e)}:e.documentElement.currentStyle&&(t=function(t,e){return t.currentStyle&&t.currentStyle[e.replace(a,s)]}),m.query=this.querySelectorAll=function(a,s,l){s=s||e,l=l||[];var c,h=l.length||0;try{u.innerHTML=a+"{"+r+":"+i+"}"}catch(c){u.styleSheet.cssText=a+"{"+r+":"+i+"}"}if(e.defaultView&&e.querySelectorAll){c="";var f=s.id,d=s;s!=e&&(c="__slim__",s.id=c,c="#"+c+" "),s=e.querySelectorAll(c+a),f?d.id=f:d.removeAttribute&&d.removeAttribute("id"),a=1}else!s[0]&&(c=/(.*)#([\w-]+)([^\s>~]*)[\s>~]*(.*)/.exec(a))&&c[2]&&(s=o(c[2]),c[4]||(s=[s],c[1]||c[3]||(a=1)));s=1==a||s[0]&&1==s[0].nodeType?s:s.getElementsByTagName(a.replace(/\[[^\]]+\]|\.[\w-]+|\s*$/g,"").replace(/^.*[^\w]/,"")||"*");for(var p=0,v=s.length;v>p;p++)1!=s[p].nodeType||1!=a&&7!=t(s[p],r).replace(n,"")||(l[h++]=s[p]);return l.length=h,m.array(l)},m.querySelector=function(t,e,n){return this.querySelectorAll(t,e,n)[0]}}.call(m),function(){var n={},r={},i=m.array([]),a=m.array([]),l=m.array([]),c=e.head||m.querySelector("head")||m(e).createElement("head").$$(),h=function(){var e=!1;if(u(a)?i.each(function(t){t.url===a&&t.isLoaded&&(e=!0)}):s(a)&&(e=!0,a.each(function(t){var n=i.firstOrDefault(function(e){return e.url===t&&e.isLoaded});n||(e=!1)})),e){if(o(l[0])){var n=l.shift(),r=m["import"](n.__requiredModules__);n.apply(t,r)}return m.scripts.render(l.shift())}};m.config.allowDuplicate=!1;var f=function(t,n){var r=i.firstOrDefault(function(e){return e.url===t});if(r&&!m.config.allowDuplicate)return void n();var a=e.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0;var s=function(){a.parentElement.removeChild(a),i.push({url:t,isLoaded:!0}),n()};return void 0!==a.onreadystatechange?a.onload=a.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&s()}:m.bind(a,"load",s),a.src=t,c.appendChild(a),a},d=function(t){var n=i.firstOrDefault(function(e){return e.url===t});if(!n||m.config.allowDuplicate){var r=e.createElement("link");return r.type="text/css",r.rel="stylesheet",r.href=t,r.async=!0,c.appendChild(r),i.push({url:t,isLoaded:!0}),r}};m.scripts=function(t){m.extend(n,t)},m.styles=function(t){m.extend(r,t)},m.scripts.render=function(t){var e=n[t];if(e||(e=t),u(e))a=e,f(e,h);else if(s(e)){a=m.array(e);for(var r=0,i=e.length;i>r;r++)f(e[r],h)}return this},m.styles.render=function(t){var e=r[t];if(e||(e=t),u(e))d(e);else if(s(e))for(var n=0,i=scriptList.length;i>n;n++)d(e[n]);return this},m.scripts.then=function(t){return l.push(t),this},m.styles.then=function(t){return m.styles.render(t)},m.scripts.done=function(t,e){return l.push(t),t.__requiredModules__=e,this}}.call(m),function(){m.config.historyEnabled=!0;{var n={},r=m.config.historyEnabled&&t.history,i=t.location,a=(i.origin||i.protocol+"//"+i.hostname+(i.port?":"+i.port:""),m.array([])),s=m.array([]),o=function(t){return new RegExp("^"+t.replace(/\//g,"\\/").replace(/\?/g,"\\?").replace(/:(\w*)/g,"(\\w*)")+"$")};this.router=function(t,e){var n=a.any(function(e){return e.originalPattern===t});if(n)throw"Duplicated pattern: "+t+". Please provide another pattern!";return a.push({originalPattern:t,pattern:o(t),fn:e}),this}}m.navigate=function(e){return r&&t.history.pushState(null,null,e),u({href:e}),this},m.ignoreRoute=function(t){var e=a.firstOrDefault(function(e){return e.originalPattern===t});if(e)throw"Pattern has been registered! Please check the routing configuration.";return s.push(o(t.toLowerCase())),this};var u=this.router.process=function(){var t=this.href||i.hash||i.pathname,e=s.any(function(e){return e.test(t.toLowerCase())});if(!e){var r=a.firstOrDefault(function(e){return e.pattern.test(t)});if(r){n={};var o=t.match(r.pattern);o.shift();{m.array(r.originalPattern.match(/:(\w*)/g)).select(function(t){return t.replace(":","")}).each(function(t,e){n[t]=o[e]})}r.fn.apply(n,o)}}};m(e).click(function(t){var e=t.target||t.srcElement,n=e.getAttribute("href");if(!("_blank"===e.target||e.nodeName&&"a"!==e.nodeName.toLowerCase()||t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault())){var i=s.any(function(t){return t.test(n.toLowerCase())});i||(r&&r.pushState&&r.pushState(null,null,n),u.call({href:e.getAttribute("href")}))}}),m(u),t.addEventListener?t.addEventListener(r?"popstate":"hashchange",u):t.attachEvent("hashchange",u)}.call(m),function(){function r(t){return 10>t?"0"+t:t}var i=m.array;m.Promise=function(t){var e,n,r=[],a=[],s=function(t){i.each.call(r,function(e){e&&e(t)}),l=null},u=function(t){i.each.call(a,function(e){e&&e(t)}),l=null},l={};return l.done=function(t){return o(t)&&r.push(t),l},l.fail=function(t){return o(t)&&a.push(t),l},l.mockDone=function(t){return e=t,delete l.mockDone,delete l.mockFail,l},l.mockFail=function(t){return n=t,delete l.mockDone,delete l.mockFail,l},setTimeout(function(){e||n?e?s(e):u(n):t(s,u)}),l};var a=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var t,e=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],n=0;n<e.length;n++)try{t=new ActiveXObject(e[n]);break}catch(r){}return t},u=0,c=this.ajax=function(t,n,r,i){var s,r=r||"GET";return header={},parser=null,timeout=null,i=l(i)?i:!0,username=void 0,password=void 0,promise=m.Promise(function(o,c){if(s){var h=t+(/\?/.test(t)?"&":"?"),f=e.getElementsByTagName("head")[0],d=e.createElement("script"),p=[],v="";u++,m.ajax["jsonpId"+u]=s,n=n||{},n.callback="html.ajax.jsonpId"+u;for(v in n)p.push(v+"="+encodeURIComponent(n[v]));h+=p.join("&"),d.type="text/javascript",d.src=h,f.appendChild(d),m(d).expando("jsonpId",u);var g=function(){d.parentElement.removeChild(d);var t=m(d).expando("jsonpId");m.ajax["jsonpId"+t]=void 0,d=null};return void(void 0!==d.onreadystatechange?d.onload=d.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&g()}:m.bind(d,"load",g))}var y=a();y.open(r,t,i,username,password),y.onreadystatechange=function(){if(4==y.readyState&&200===y.status){var t;try{t=l(parser)?parser(y.responseText||y.responseXML):y.responseText||responseXML}catch(e){c("Invalid data type.")}o(t)}else c(y)};for(var b in header)y.setRequestHeader(b,header);timeout&&timeout>0&&(y.timeout=timeout,y.ontimeout=function(){c("timeout")}),y.send(n)}),promise.get=function(){return r="GET",this},promise.post=function(){return r="POST",this},promise.jsonp=function(t){return s=t,delete promise.jsonp,this},promise.authenticate=function(t,e){return username=t,password=e,this},promise.header=function(t){return m.extend(header,t),this},promise.async=function(t){return i=t,this},promise.parser=function(t){return parser=t,this},promise.timeout=function(t){return timeout=t,this},promise.contentType=function(t){return m.extend(header,{"Content-type":t}),this},promise},h=n&&n.parse||function(t){return null===t?t:"string"==typeof t&&(t=w(t),t&&/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))?new Function("return "+t)():null},f=n&&n.stringify||function(t){var e=typeof t;if("object"!=e||null===t)return m.isString(e)&&(t='"'+t+'"'),m.isDate(e)&&(t='"'+t.getUTCFullYear()+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+'Z"'),String(t);var n,i,a=[],o=t&&s(t);for(n in t)i=t[n],e=typeof i,"string"==e?i='"'+i+'"':"object"==e&&null!==i&&(i=f(i)),a.push((o?"":'"'+n+'":')+String(i));return(o?"[":"{")+String(a)+(o?"]":"}")};n||(t.JSON=n={parse:h,stringify:f}),m.getJSON=function(t,e,n){var r=[];for(var i in e)r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return c(t+"?"+r.join("&"),null,"GET",n).parser(h)},m.postJSON=function(t,e,n){return c(t,f(e),"POST",n).header({"Content-type":"application/json"}).parser(h)},this.partial=function(t){var e=element;return c(t).done(function(t){e.innerHTML=t,e=null})}}.call(m),function(){var t={};this["import"]=function(e){e=s(e)?e:[e],res=[];for(var n=0,r=e.length;r>n;n++)res.push(t[e[n]]);return res},this.define=function(e,n){t[e]=n}}.call(m),m});